(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;a=function(){function a(a){this.el=a,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.updatePosition(),this.isSettled=!1}return a.prototype.updatePosition=function(){return this.width=this.el.getBoundingClientRect().width,this.height=this.el.getBoundingClientRect().height,this.originX=this.el.getBoundingClientRect().left+this.width/2,this.originY=this.el.getBoundingClientRect().top+this.height/2-100},a.prototype.update=function(){var a,b,c,d,e;return c=i-(this.originX+this.x),d=j-(this.originY+this.y),b=Math.sqrt(c*c+d*d),a=Math.atan2(d,c),h&&(e=1-b/1e3,e*=5*e,this.velocityX+=Math.cos(a)*e,this.velocityY+=Math.sin(a)*e),this.x+=this.velocityX,this.y+=this.velocityY,this.velocityX+=.005*(0-this.x),this.velocityY+=.005*(0-this.y),this.velocityX*=.9,this.velocityY*=.9,this.isSettled=Math.abs(this.x)<.03&&Math.abs(this.y)<.03&&!h?!0:!1,this.render()},a.prototype.render=function(){return this.el.style[t]="translate3d("+this.x+"px, "+this.y+"px, 0) rotate("+this.x+"deg)"},a}(),v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},u=v[Modernizr.prefixed("transition")],w=function(a,b){var c,d,e,f;for(f=a.childNodes,d=0,e=f.length;e>d;d++)c=f[d],1===c.nodeType&&w(c,b);return b(a)},x=function(a){var b,c,d,e,f,g,h,i,j;return f=function(){var b,c,e,f;for(e=a.childNodes,f=[],b=0,c=e.length;c>b;b++)d=e[b],3===d.nodeType&&f.push(d);return f}(),h=function(){var a,b,c;for(c=[],a=0,b=f.length;b>a;a++)e=f[a],c.push(e.nodeValue);return c}().join("").split(" "),j=function(){var a,d,e;for(e=[],a=0,d=h.length;d>a;a++)g=h[a],c=g.split(""),i=function(){var a,d,e;for(e=[],a=0,d=c.length;d>a;a++)b=c[a],e.push("<div class='char'>"+b+"</div>");return e}(),e.push("<div class='word'>"+i.join("")+"</div>");return e}(),a.firstChild.remove(),a.insertAdjacentHTML("afterbegin",j.join(""))},k=document.querySelectorAll(".split"),t=Modernizr.prefixed("transform"),q=[window.innerWidth/2,window.innerHeight/3],i=q[0],j=q[1],h=!0,d=[],e=function(){var b,c,e,f,g,h,i,j;for(d=function(){var c,d,e,f;for(e=document.querySelectorAll(".char"),f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(new a(b));return f}(),h=document.querySelectorAll(".dot"),c=0,f=h.length;f>c;c++)b=h[c],d.push(new a(b));for(i=document.querySelectorAll(".divider"),j=[],e=0,g=i.length;g>e;e++)b=i[e],j.push(d.push(new a(b)));return j},b=function(){var a,c,e;for(a=0,c=d.length;c>a;a++)e=d[a],e.isSettled||e.update();return requestAnimationFrame(b)},f=StateMachine.create({events:[{name:"startup",from:"none",to:"intro"},{name:"showIntro",from:["intro","skills","work","contact"],to:"intro"},{name:"showSkills",from:["intro","skills","work","contact"],to:"skills"},{name:"showWork",from:["intro","skills","work","contact"],to:"work"},{name:"showContact",from:["intro","skills","work","contact"],to:"contact"}],callbacks:{onstartup:function(a,b,c){return $(".page").not(".page-"+c).css({opacity:0,display:"none"}),$(".title").css({opacity:0,transform:"translateZ(0) scale(0)"})},onleavestate:function(a,b,c){return"none"!==b?($(".page-"+b).css({opacity:0}).one(u,function(){return $(this).css({display:"none"})}),$(".title-"+b).css({opacity:0,transform:"translateZ(0) scale(0)"})):void 0},onenterstate:function(a,b,c){return $(".page-"+c).css({display:"block",opacity:1}),$(".title-"+c).css({opacity:1,transform:"translateZ(0) scale(1)"})}}}),r=function(){return $(".page").not(".page-"+f.current).css({opacity:0,display:"block"}),$(".title").not(".title-"+f.current).css({opacity:0}),e(),$(".page").not(".page-"+f.current).css({opacity:0,display:"none"}),$(".title").not(".title-"+f.current).css({opacity:0})},l=function(a){return i=a.pageX,j=a.pageY},m=function(a){var b,c,e,f;for(b=0,c=d.length;c>b;b++)e=d[b],e.isSettled=!1;return h=!0,f=+new Date},p=function(a){return a.preventDefault(),$(a.currentTarget).hasClass("btn-intro")&&f.showIntro(),$(a.currentTarget).hasClass("btn-skills")&&f.showSkills(),$(a.currentTarget).hasClass("btn-work")&&f.showWork(),$(a.currentTarget).hasClass("btn-contact")&&f.showContact(),"touchend"===a.type&&+new Date-timeSincePointerDown<500?setTimeout(function(){return h=!1},500):h=!1},n=function(){var a,b,c;for(a=0,b=d.length;b>a;a++)c=d[a],c.isSettled=!1;return h=!0},o=function(){return h=!1},c=function(){return window.addEventListener("resize",r),window.addEventListener("pageshow",r),document.addEventListener("touchstart",l),document.addEventListener("mousemove",l)},s=function(){return $("body").css({opacity:1}),setTimeout(function(){var a,b,c,e,f,g;for(h=!1,e="touchstart mousedown",f="touchend mouseup",g=0,a=0,b=d.length;b>a;a++)c=d[a],c.isSettled=!1;return $(".nav li").on(e,m),$(".nav li").on(f,p),$(".nav li").hover(n,o),setTimeout(function(){return $(".nav").css({opacity:1}),setTimeout(function(){return $(".title-intro").css({opacity:1,transform:"translateZ(0) scale(1)"})},500)},500)},500)},g=function(){var a,c,d;for(a=0,c=k.length;c>a;a++)d=k[a],w(d,x);return e(),b(),f.startup()},$(function(){var a;return setTimeout(function(){return $(window).scrollTop(0)},0),a=[],WebFont.load({custom:{families:["Vollkorn:i4","Montserrat:n4,n7"]},fontactive:function(b,d){return a.push(d),3===a.length?(g(),s(),c()):void 0}})})}).call(this);